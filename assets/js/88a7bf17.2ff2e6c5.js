"use strict";(self.webpackChunkdiscoverse_docs=self.webpackChunkdiscoverse_docs||[]).push([[7251],{6235:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/pinned-66cd6519815baeadb521cd705493a7be.png"},7217:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorials/data-generation/automated-data-generation","title":"Automated Data Generation","description":"Compared to real-world scenarios, simulators have a significant advantage in easily obtaining privileged observations. For example, in simulation, you can directly access position, orientation, velocity, and other information of any object. Using this information, you can automatically generate atomic operation data. Below is an example using ROS1 gamepad control to generate operation strategies for the platecoffeecup task.","source":"@site/docs/tutorials/data-generation/automated-data-generation.md","sourceDirName":"tutorials/data-generation","slug":"/tutorials/data-generation/automated-data-generation","permalink":"/DISCOVERSE-doc/docs/tutorials/data-generation/automated-data-generation","draft":false,"unlisted":false,"editUrl":"https://github.com/TATP-233/DISCOVERSE/tree/main/discoverse-docs/docs/tutorials/data-generation/automated-data-generation.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"XML Editor","permalink":"/DISCOVERSE-doc/docs/tutorials/modeling/xml-editor"},"next":{"title":"Domain Randomization Techniques","permalink":"/DISCOVERSE-doc/docs/tutorials/data-generation/domain-randomization"}}');var o=t(4848),s=t(8453);const a={sidebar_position:3},r="Automated Data Generation",l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Recording Operation Strategies",id:"recording-operation-strategies",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"automated-data-generation",children:"Automated Data Generation"})}),"\n",(0,o.jsx)(n.p,{children:"Compared to real-world scenarios, simulators have a significant advantage in easily obtaining privileged observations. For example, in simulation, you can directly access position, orientation, velocity, and other information of any object. Using this information, you can automatically generate atomic operation data. Below is an example using ROS1 gamepad control to generate operation strategies for the plate_coffee_cup task."}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Simulator environment"}),"\n",(0,o.jsx)(n.li,{children:"ROS1 and a gamepad supporting ROS1"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"recording-operation-strategies",children:"Recording Operation Strategies"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Set the task scene ",(0,o.jsx)(n.code,{children:"cfg.mjcf_file_path"})," in ",(0,o.jsx)(n.code,{children:"discoverse/examples/ros1/mmk2_joy_ros1.py"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Launch:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"(terminal 1)\nroscore\n(terminal 2)\nrosrun joy joy_node\n(terminal 3)\npython3 discoverse/examples/ros1/mmk2_joy_ros1.py\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Right-click the title bar and set the display window to stay on top"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"pinned",src:t(6235).A+"",width:"637",height:"507"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Mouse and keyboard operations:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Left-click drag: Rotate view"}),"\n",(0,o.jsx)(n.li,{children:"Right-click drag: Pan view"}),"\n",(0,o.jsx)(n.li,{children:"Press scroll wheel and move mouse up/down: Change zoom"}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"["})," and ",(0,o.jsx)(n.code,{children:"]"}),": Switch camera views"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Esc"}),": Switch to free view"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Ctrl"}),"+",(0,o.jsx)(n.code,{children:"D"}),": Toggle depth rendering"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"p"}),": Print key information"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Control using gamepad:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Left stick: Control chassis movement"}),"\n",(0,o.jsx)(n.li,{children:"Right stick: Control head movement"}),"\n",(0,o.jsx)(n.li,{children:"LT left trigger: Lift up"}),"\n",(0,o.jsx)(n.li,{children:"RT right trigger: Lift down"}),"\n",(0,o.jsxs)(n.li,{children:["LB left shoulder button (hold continuously to control left arm):","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"D-pad up/down: End-effector translation along x-axis"}),"\n",(0,o.jsx)(n.li,{children:"D-pad left/right: End-effector translation along y-axis"}),"\n",(0,o.jsx)(n.li,{children:"Left stick up/down: End-effector translation along z-axis"}),"\n",(0,o.jsx)(n.li,{children:"Left stick left/right: End-effector rotation around z-axis"}),"\n",(0,o.jsx)(n.li,{children:"Right stick left/right: End-effector rotation around x-axis"}),"\n",(0,o.jsx)(n.li,{children:"Right stick up/down: End-effector rotation around y-axis"}),"\n",(0,o.jsx)(n.li,{children:"LT, RT: Control gripper open/close"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["RB right shoulder button (hold continuously to control right arm):","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Same operation logic as LB. LB and RB can be pressed simultaneously"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Record key points:"}),"\n",(0,o.jsx)(n.p,{children:"(Note: The robot will not automatically avoid obstacles during movement. Consider using key points to separate horizontal and vertical movements into different motion phases)"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Use the gamepad to control the robot to key points, positioning as accurately as possible"}),"\n",(0,o.jsxs)(n.li,{children:["After reaching a key point, click on the simulator window with the mouse and press the ",(0,o.jsx)(n.code,{children:"o"})," key"]}),"\n",(0,o.jsx)(n.li,{children:"The terminal will prompt to select the relative object (if picking up a cup, select the cup; after picking up the cup to place it in a plate, select the plate at this time), select and press Enter"}),"\n",(0,o.jsx)(n.li,{children:"The terminal will prompt to select the arm to use: a (both arms) / l (left) / r (right), select and press Enter"}),"\n",(0,o.jsx)(n.li,{children:"Set delay time in seconds, press Enter directly for no delay by default"}),"\n",(0,o.jsx)(n.li,{children:"Repeat steps 1-5, complete the task and record all key points, then exit the simulator"}),"\n",(0,o.jsxs)(n.li,{children:["A ",(0,o.jsx)(n.code,{children:"scheme_'task_name'.json"})," file will be generated in the ",(0,o.jsx)(n.code,{children:"discoverse/examples/ros1"})," path"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Test strategy ",(0,o.jsx)(n.code,{children:"scheme_'task_name'.json"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"python discoverse/examples/tasks_mmk2/gendata_from_json.py --task_name task_name --scheme_json /path/to/your/scheme_{task_name}.json --vis\ne.g.\npython discoverse/examples/tasks_mmk2/gendata_from_json.py --task_name plate_coffeecup --scheme_json /path/to/your/scheme_plate_coffeecup.json --vis\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(6540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);