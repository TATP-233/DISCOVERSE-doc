"use strict";(self.webpackChunkdiscoverse_docs=self.webpackChunkdiscoverse_docs||[]).push([[9548],{6206:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"tutorials/imitation-learning/data-generation","title":"\u6570\u636e\u751f\u6210","description":"\u6570\u636e\u751f\u6210\u662f\u6a21\u4eff\u5b66\u4e60\u7684\u7b2c\u4e00\u6b65\uff0cDISCOVERSE\u63d0\u4f9b\u4e86\u81ea\u52a8\u5316\u7684\u6570\u636e\u6536\u96c6\u5de5\u5177\u3002","source":"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/tutorials/imitation-learning/data-generation.md","sourceDirName":"tutorials/imitation-learning","slug":"/tutorials/imitation-learning/data-generation","permalink":"/DISCOVERSE-doc/zh-Hans/docs/tutorials/imitation-learning/data-generation","draft":false,"unlisted":false,"editUrl":"https://github.com/TATP-233/DISCOVERSE/tree/main/discoverse-docs/docs/tutorials/imitation-learning/data-generation.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u6a21\u4eff\u5b66\u4e60\u6982\u89c8","permalink":"/DISCOVERSE-doc/zh-Hans/docs/tutorials/imitation-learning/overview"},"next":{"title":"ACT (Action Chunking with Transformers)","permalink":"/DISCOVERSE-doc/zh-Hans/docs/tutorials/imitation-learning/act"}}');var a=i(4848),d=i(8453);const r={sidebar_position:2},c="\u6570\u636e\u751f\u6210",l={},t=[{value:"\ud83c\udfaf \u81ea\u52a8\u6570\u636e\u6536\u96c6",id:"-\u81ea\u52a8\u6570\u636e\u6536\u96c6",level:2},{value:"\u81ea\u52a8\u6536\u96c6\u547d\u4ee4",id:"\u81ea\u52a8\u6536\u96c6\u547d\u4ee4",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:4},{value:"\ud83d\udd04 \u6570\u636e\u683c\u5f0f\u8f6c\u6362",id:"-\u6570\u636e\u683c\u5f0f\u8f6c\u6362",level:2},{value:"ACT",id:"act",level:3},{value:"DP (Diffusion Policy)",id:"dp-diffusion-policy",level:3},{value:"RDT",id:"rdt",level:3},{value:"OpenPI",id:"openpi",level:3},{value:"\ud83d\udcda \u4e0b\u4e00\u6b65",id:"-\u4e0b\u4e00\u6b65",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"\u6570\u636e\u751f\u6210",children:"\u6570\u636e\u751f\u6210"})}),"\n",(0,a.jsx)(e.p,{children:"\u6570\u636e\u751f\u6210\u662f\u6a21\u4eff\u5b66\u4e60\u7684\u7b2c\u4e00\u6b65\uff0cDISCOVERSE\u63d0\u4f9b\u4e86\u81ea\u52a8\u5316\u7684\u6570\u636e\u6536\u96c6\u5de5\u5177\u3002"}),"\n",(0,a.jsx)(e.h2,{id:"-\u81ea\u52a8\u6570\u636e\u6536\u96c6",children:"\ud83c\udfaf \u81ea\u52a8\u6570\u636e\u6536\u96c6"}),"\n",(0,a.jsxs)(e.p,{children:["DISCOVERSE\u51c6\u5907\u4e86\u82e5\u5e72\u4e2a\u5355\u81c2\u3001\u53cc\u81c2\u7684\u64cd\u4f5c\u4efb\u52a1\uff0c\u5206\u522b\u4f4d\u4e8e",(0,a.jsx)(e.code,{children:"discoverse/examples/tasks_airbot_play"}),"\u548c",(0,a.jsx)(e.code,{children:"discoverse/examples/tasks_mmk2"}),"\u4e2d\u3002"]}),"\n",(0,a.jsx)(e.h3,{id:"\u81ea\u52a8\u6536\u96c6\u547d\u4ee4",children:"\u81ea\u52a8\u6536\u96c6\u547d\u4ee4"}),"\n",(0,a.jsx)(e.p,{children:"\u8981\u81ea\u52a8\u6536\u96c6\u6570\u636e\uff0c\u8bf7\u8fd0\u884c\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"cd scripts\npython tasks_data_gen.py --robot_name <ROBOT_NAME> --task_name <TASK_NAME> --track_num <NUM_TRACK> --nw <NUM_OF_WORKERS>\n"})}),"\n",(0,a.jsx)(e.h4,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"python tasks_data_gen.py --robot_name airbot_play --task_name kiwi_place --track_num 100 --nw 8\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u8868\u793a\u4f7f\u7528airbot_play\u673a\u68b0\u81c2\uff0c\u4efb\u52a1\u4e3a\u653e\u7f6e\u7315\u7334\u6843\uff0c\u603b\u5171\u751f\u6210100\u6761\u4efb\u52a1\u8f68\u8ff9\uff0c\u4f7f\u75288\u4e2a\u8fdb\u7a0b\u6765\u540c\u65f6\u751f\u6210\u6570\u636e\u3002"}),"\n",(0,a.jsx)(e.h2,{id:"-\u6570\u636e\u683c\u5f0f\u8f6c\u6362",children:"\ud83d\udd04 \u6570\u636e\u683c\u5f0f\u8f6c\u6362"}),"\n",(0,a.jsx)(e.p,{children:"\u4e0d\u540c\u7684\u6a21\u4eff\u5b66\u4e60\u7b97\u6cd5\u9700\u8981\u4e0d\u540c\u7684\u6570\u636e\u683c\u5f0f\uff1a"}),"\n",(0,a.jsx)(e.h3,{id:"act",children:"ACT"}),"\n",(0,a.jsx)(e.p,{children:"\u5c06\u4eff\u771f\u91c7\u96c6\u7684\u539f\u59cb\u6570\u636e\u683c\u5f0f\u8f6c\u6362\u4e3aACT\u7b97\u6cd5\u4e2d\u7528\u5230\u7684hdf5\u683c\u5f0f\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"python3 policies/act/data_process/raw_to_hdf5.py -md mujoco -dir data -tn <task_name> -vn <video_names>\n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u53c2\u6570\u8bf4\u660e"}),":"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"-md"}),": \u8f6c\u6362\u6a21\u5f0f\uff0cmujoco\u8868\u793a\u8f6c\u6362\u7531discoverse\u4eff\u771f\u5668\u91c7\u96c6\u7684\u6570\u636e"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"-dir"}),": \u6570\u636e\u5b58\u653e\u7684\u6839\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3adata"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"-tn"}),": \u4efb\u52a1\u540d\uff0c\u7a0b\u5e8f\u5c06\u6839\u636e\u4efb\u52a1\u540d\u4ecedata\u76ee\u5f55\u4e2d\u5bfb\u627e\u76f8\u540c\u540d\u79f0\u7684\u6570\u636e\u96c6\u6587\u4ef6\u5939"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"-vn"}),": \u89c6\u9891\u540d\uff0c\u6307\u5b9a\u9700\u8981\u8f6c\u6362\u7684\u89c6\u9891\u6587\u4ef6\u540d\uff08\u65e0\u540e\u7f00\uff09\uff0c\u591a\u4e2a\u540d\u79f0\u7528\u7a7a\u683c\u9694\u5f00"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u8f6c\u6362\u540e\u7684\u6570\u636e\u5b58\u653e\u4e8e",(0,a.jsx)(e.code,{children:"discoverse/data/hdf5"}),"\u6587\u4ef6\u5939\u4e2d\u3002"]}),"\n",(0,a.jsx)(e.h3,{id:"dp-diffusion-policy",children:"DP (Diffusion Policy)"}),"\n",(0,a.jsx)(e.p,{children:"\u5c06\u4eff\u771f\u91c7\u96c6\u7684\u539f\u59cb\u6570\u636e\u683c\u5f0f\u8f6c\u6362\u4e3aDP\u7b97\u6cd5\u4e2d\u7528\u5230\u7684zarr\u683c\u5f0f\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"python3 policies/dp/raw2zarr.py -dir data -tn <task_name> \n"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"\u53c2\u6570\u8bf4\u660e"}),":"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"-dir"}),": \u6570\u636e\u5b58\u653e\u7684\u6839\u76ee\u5f55\uff0c\u9ed8\u8ba4\u4e3adata"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"-tn"}),": \u4efb\u52a1\u540d\uff0c\u7a0b\u5e8f\u5c06\u6839\u636e\u4efb\u52a1\u540d\u4ecedata\u76ee\u5f55\u4e2d\u5bfb\u627e\u76f8\u540c\u540d\u79f0\u7684\u6570\u636e\u96c6\u6587\u4ef6\u5939"]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["\u8f6c\u6362\u540e\u7684\u6570\u636e\u5b58\u653e\u4e8e",(0,a.jsx)(e.code,{children:"discoverse/data/zarr"}),"\u6587\u4ef6\u5939\u4e2d\u3002"]}),"\n",(0,a.jsx)(e.h3,{id:"rdt",children:"RDT"}),"\n",(0,a.jsx)(e.p,{children:"\u5c06\u4eff\u771f\u91c7\u96c6\u7684\u539f\u59cb\u6570\u636e\u683c\u5f0f\u8f6c\u6362\u4e3aRDT\u7b97\u6cd5\u4e2d\u7528\u5230\u7684hdf5\u683c\u5f0f\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"python3 policies/act/data_process/raw_to_hdf5.py -md mujoco -dir data -tn ${task_name} -vn ${video_names}\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"python3 policies/act/data_process/raw_to_hdf5.py -md mujoco -dir data -tn block_place -vn cam_0 cam_1\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u5c06hdf5\u6587\u4ef6\u79fb\u52a8\u5230RDT\u9700\u8981\u7684\u5730\u5740\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"mv data/hdf5/${task_name} policies/RDT/training_data\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"mv data/hdf5/block_place policies/RDT/training_data\n"})}),"\n",(0,a.jsx)(e.h3,{id:"openpi",children:"OpenPI"}),"\n",(0,a.jsx)(e.p,{children:"\u5c06\u4eff\u771f\u91c7\u96c6\u7684\u539f\u59cb\u6570\u636e\u683c\u5f0f\u8f6c\u6362\u4e3api0\u7b97\u6cd5\u4e2d\u7528\u5230\u7684hdf5\u683c\u5f0f\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"cd DISCOVERSE\npython3 policies/act/data_process/raw_to_hdf5.py -md mujoco -dir data -tn ${task_name} -vn ${video_names}\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"python3 policies/act/data_process/raw_to_hdf5.py -md mujoco -dir data -tn block_place -vn cam_0 cam_1\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u5c06hdf5\u6587\u4ef6\u79fb\u52a8\u5230pi0\u9700\u8981\u7684\u5730\u5740\uff1a"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"mv data/hdf5/${task_name} policies/openpi/training_data\ncd policies/openpi/training_data/\nscp instructions/${task_name}.json ${task_name}/instructions.json\ncd ..\n"})}),"\n",(0,a.jsx)(e.h2,{id:"-\u4e0b\u4e00\u6b65",children:"\ud83d\udcda \u4e0b\u4e00\u6b65"}),"\n",(0,a.jsx)(e.p,{children:"\u6570\u636e\u51c6\u5907\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u7ee7\u7eed\uff1a"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u9009\u62e9\u5408\u9002\u7684\u5b66\u4e60\u7b97\u6cd5\uff1a"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"/DISCOVERSE-doc/zh-Hans/docs/tutorials/imitation-learning/act",children:"ACT\u7b97\u6cd5"})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"/DISCOVERSE-doc/zh-Hans/docs/tutorials/imitation-learning/dp",children:"Diffusion Policy"})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"/DISCOVERSE-doc/zh-Hans/docs/tutorials/imitation-learning/rdt",children:"RDT\u7b97\u6cd5"})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"/DISCOVERSE-doc/zh-Hans/docs/tutorials/imitation-learning/openpi",children:"OpenPI\u7b97\u6cd5"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u5f00\u59cb\u8bad\u7ec3\u7b56\u7565\u6a21\u578b"}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"\u5728\u4eff\u771f\u73af\u5883\u4e2d\u6d4b\u8bd5\u7b56\u7565\u6548\u679c"}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(o,{...n})}):o(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>c});var s=i(6540);const a={},d=s.createContext(a);function r(n){const e=s.useContext(d);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),s.createElement(d.Provider,{value:e},n.children)}}}]);